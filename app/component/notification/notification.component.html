<Page xmlns="http://www.nativescript.org/tns.xsd" xmlns:maps="nativescript-google-maps-sdk">

<ActionBar class="action-bar">
  <NavigationButton ios:visibility="collapsed"></NavigationButton>
  <Label class="action-bar-title" text="Notifications" horizontalAlignment="center"></Label>
</ActionBar>

<GridLayout class="page page-content">
  <ListView [items]="notifications" class="list-group">
      <ng-template tkListItemTemplate let-notif="item">
          <StackLayout class="list-group-item">
              <GridLayout rows="*, *, *" columns="*, *" class="list-group-item-content">
                  <Label col="1" horizontalAlignment="right" class="list-group-item-text m-r-5">
                      <FormattedString>
                          <Span [text]="notif.type"></Span>
                      </FormattedString>
                  </Label>
                  <StackLayout row="1" class="hr-light m-t-5 m-b-5" colSpan="2"></StackLayout>
                  <GridLayout row="2" stretch="aspectFill" height="120" class="m-r-20">
                      <map [latitude]="notif.location.latitude" [longitude]="notif.location.longitude" [zoom]="20"></map>
                  </GridLayout>
                  <StackLayout row="2" col="1" verticalAlignment="center" class="list-group-item-text">
                      <Label class="p-b-10">
                        <FormattedString ios:fontFamily="system">
                              <Span text="&#xf085;   " class="fa text-primary"></Span>
                              <Span [text]="notif.creationDate"></Span> 
                          </FormattedString>
                      </Label>
                      <Label class="p-b-10">
                        <FormattedString ios:fontFamily="system">
                              <Span text="&#xf085;   " class="fa text-primary"></Span>
                              <Span text="User who reports: "></Span>
                              <Span [text]="notif.userReported.name"></Span>                              
                          </FormattedString>
                      </Label>
                      <Label class="p-b-10">
                        <FormattedString ios:fontFamily="system">
                              <Span text="&#xf2dc;   " class="fa text-primary"></Span>
                              <Span text="Latitude: "></Span>
                              <Span [text]="notif.location.latitude"></Span> 
                          </FormattedString>
                      </Label>
                      <Label class="p-b-10">
                        <FormattedString ios:fontFamily="system">
                              <Span text="&#xf2dc;   " class="fa text-primary"></Span>
                              <Span text="Longitude: "></Span>
                              <Span [text]="notif.location.longitude"></Span> 
                          </FormattedString>
                      </Label>                      
                  </StackLayout>
              </GridLayout>
          </StackLayout>
      </ng-template>
  </ListView>

  <ActivityIndicator [busy]="isLoading"></ActivityIndicator>
</GridLayout>

